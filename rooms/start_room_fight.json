{
	"commands": [
		"set-zone_1",
		"delay-~999",
		"set-item:hatchet"
	],
	"options": [
		{
			"req": [
				"zone_1",
				"!event:",
				"!pick_door",
				"!in_loop"
			],
			"option_text": "Dodge to the left",
			"result_text": "You dodge to the left, closer to the growing pit. You turn back to see a short corridor has appeared with three doors at the end of it. Unfortunately, there's also a skeleton in the way.",
			"result": [
				"unset-zone_1",
				"set-zone_2"
			]
		},
		{
			"req": [
				"zone_2",
				"!item:",
				"!event:",
				"!pick_door",
				"!in_loop"
			],
			"option_text": "Charge the skeleton",
			"result_text": "The skeleton impales you with its sword. Your attempts to struggle only accelerate your demise.",
			"result": [
				"reset"
			]
		},	 
		{
			"req": [
				"zone_2",
				"!item:",
				"!event:",
				"!pick_door",
				"!in_loop"
			],
			"option_text": "Skirt around the left of skeleton",
			"resut_text": "You feel the sword displace the air as it whizzes past you. Now what?",
			"result": [
				"unset-zone_2",
				"set-zone_3"
			]
		},
		{
			"req": [
				"zone_2",
				"!item:",
				"!event:",
				"!pick_door",
				"!in_loop"
			],
			"option_text": "Skirt around the right of skeleton",
			"result_text": "You feel the sword displace the air as it whizzes past you. Now what?",
			"result": [
					"unset-zone_2",
					"set-zone_3"
			]
		},
		{
			"req": [
				"zone_3",
				"!monster_dead",
				"!pick_door",
				"!pick_door_A",
				"!in_loop"
			],
			"option_text": "Pick a door",
			"result_text": "The three doors at the end of the hall are painted different colors, with different small details and manufacturing. The colors are:",
			"result": [
				"set-pick_door",
				"random-door",
				"random-door",
				"random-door",
				"set-no_peeking",
				"set-pick_door_A"
			]
		},
		{
			"req": [
				"zone_3",
				"!monster_dead",
				"!pick_door",
				"pick_door_A",
				"!in_loop"
			],
			"option_text": "Pick a door",
			"result_text": "The colors are:",
			"result": [
				"set-no_peeking",
				"set-pick_door"
			]
		},
		{
			"req": [
				"red_door",
				"no_peeking",
				"!in_loop"
			],
			"option_text": "Red Door",
			"result": [
				"set-red_move",
				"set-in_loop"
			]
		},
		{
			"req": [
				"green_door",
				"no_peeking",
				"!in_loop"
			],
			"option_text": "Green Door",
			"result": [
				"set-green_move",
				"set-in_loop"
			]
		},
		{
			"req": [
				"blue_door",
				"no_peeking",
				"!in_loop"
			],
			"option_text": "Blue Door",
			"result": [
				"set-blue_move",
				"set-in_loop"
			]
		},
		{
			"req": [
				"purple_door",
				"no_peeking",
				"!in_loop"
			],
			"option_text": "Purple Door",
			"result": [
				"set-purple_move",
				"set-in_loop"
			]
		},
		{
			"req": [
				"yellow_door",
				"no_peeking",
				"!in_loop"
			],
			"option_text": "Yellow Door",
			"result": [
				"set-yellow_move",
				"set-in_loop"
			]
		},
		{
			"req": [
				"brown_door",
				"no_peeking",
				"!in_loop"
			],
			"option_text": "Brown Door",
			"result": [
				"set-brown_move",
				"set-in_loop"
			]
		},
		{
			"req": [
				"monster_dead",
				"!show_door",
				"!in_loop"
			],
			"option_text": "Pick a door",
			"result": [
				"if-nowhere",
				"set-show_door",
				"set-pick_door_A",
				"set-in_loop_2"
			]
		},
		{
			"req": [
				"zone_3",
				"start_room_intro:!left_box",
				"!red_loop",
				"!green_loop",
				"!yellow_loop",
				"!purple_loop",
				"!blue_loop",
				"!brown_loop",
				"!show_door",
				"!pick_door",
				"!monster_dead",
				"!in_loop"
			],
			"option_text": "Open the left box",
			"result": [
				"set-start_room_intro:left_box",
				"random-box_item"
			]
		},
		{
			"req": [
				"no_peeking",
				"!in_loop",
				"pick_door"
			],
			"option_text": "Exit",
			"result": [
				"unset-no_peeking",
				"unset-pick_door"
			]
		},
		{
			"req": [
				"zone_3",
				"start_room_intro:!right_box",
				"!red_loop",
				"!green_loop",
				"!yellow_loop",
				"!purple_loop",
				"!blue_loop",
				"!brown_loop",
				"!show_door",
				"!pick_door",
				"!monster_dead",
				"!in_loop"
			],
			"option_text": "Open the right box",
			"result": [
				"set-start_room_intro:right_box",
				"random-box_item"
			]
		},
		{
			"req": [
				"zone_1",
				"!event:",
				"!pick_door",
				"!in_loop"
			],
			"option_text": "Dodge to the right",
			"result_text": "You dodge to the right of the skeleton, as well as further from the growing pit! A short corridor has appeared at the back of the room that you now stand at the mouth of, with three doors at the end of it. What do you do?",
			"result": [
				"unset-zone_1",
				"set-zone_3"
			]
		},
		{
			"req": [
				"item:hatchet",
				"!pick_door",
				"!hatchet_loop"
			],
			"option_text": "Hatchet",
			"result": [
				"set-hatchet_loop",
				"set-in_loop"
			]
		},
		{
			"req": [
				"item:hatchet",
				"!pick_door",
				"hatchet_loop",
				"!monster_dead",
				"!hatchet_torso"
			],
			"option_text": "Slash the torso",
			"result_text": "You slash at the skeleton's torso, which promptly gives way and falls to the ground! A strange force then lifts the slashed torso up from the ground and places it firmly back on the body.",
			"result": [
				"set-hatchet_torso"
			]
		},
		{
			"req": [
				"item:hatchet",
				"!pick_door",
				"hatchet_loop",
				"!monster_dead",
				"!hatchet_ankle"
			],
			"option_text": "Slash the ankle",
			"result_text": "You slash at the skeleton's ankle, which causes the skeleton to fall to the ground! A strange force then causes the broken bone to fuse back together, and the skeleton gets back on its feet.",
			"result": [
				"set-hatchet_ankle"
			]
		},
		{
			"req": [
				"hatchet_loop",
				"!hatchet_arm",
				"!monster_dead"
			],
			"option_text": "Slash the arm",
			"result_text": "You slash at the skeleton's arm, which promptly falls to the ground. A strange force then picks it back up and reattaches it to the body.",
			"result": [
				"set-hatchet_arm"
			]
		},
		{
			"req": [
				"hatchet_loop",
				"!hatchet_head",
				"!monster_dead"
			],
			"option_text": "Slash the head",
			"result_text": "You slash at the skeleton's head, which cracks open and leaks a strange green goo. The skeleton starts to stumble.",
			"result": [
				"set-hatchet_head"
			]
		},
		{
			"req": [
				"item:hatchet",
				"!pick_door",
				"hatchet_torso",
				"!monster_dead",
				"hatchet_loop"
			],
			"option_text": "Slash the torso again",
			"result_text": "You attempt to slash the torso again, but it sees your attack coming. With a mighty swing, it slashes off your hand at the wrist. The shock and pain builds through your body as the skeleton drives its sword through your heart. You barely have a chance to breathe as everything slowly fades to black.",
			"result": [
				"reset"
			]
		},
		{
			"req": [
				"hatchet_ankle",
				"hatchet_loop"
			],
			"option_text": "Slash the ankle again",
			"result_text": "You attempt to slash the ankle again, but it sees your attack coming. With a mighty swing, it slashes off your arm. The shock and pain builds through your body as the skeleton places one foot on your back and stabs you through the heart. Your eyes fill with tears as everything slowly fades to black.",
			"result": [
				"reset"
			]
		},
		{
			"req": [
				"hatchet_arm",
				"hatchet_loop"
			],
			"option_text": "Slash the arm again",
			"result_text": "You attempt to slash the arm again, but it sees your attack coming. With a mighty swing, it slashes the skin off your forearm and punctures your eye. You scream as the sword is driven into your head as everything slowly fades to black.",
			"result": [
				"reset"
			]
		},
		{
			"req": [
				"hatchet_head",
				"hatchet_loop"
			],
			"option_text": "Slash the head again",
			"result_text": "You slash the skeleton's head once more. The skeleton's skull completely bursts open and it falls to the ground. The room becomes slowly engulfed by the growing pit, but it luckily terminates at the hallway's entrance. What do you do?",
			"result": [
				"unset-hatchet_loop",
				"unset-in_loop",
				"set-monster_dead"
			]
		},
		{
			"req": [
				"hatchet_loop",
				"monster_dead",
				"!in_loop_2"
			],
			"option_text": "Slash the floor",
			"result_text": "You slash at the plywood floor, which appears to work! The hatchet sinks into the wood and it cuts as expected. You take a few more swings and the floor gives out from under you, dropping you into the same pit you had escaped from. The ground comes up on you quickly-",
			"result": [
				"reset"
			]
		},
		{
			"req": [
				"hatchet_loop",
				"monster_dead",
				"!hugh",
				"!in_loop_2"
			],
			"option_text": "Slash the wall",
			"result_text": "You attempt to slash at the walls of the hallway. Incredibly, though feeling like plywood, the wall deflects every swing you give.",
			"result": [
				"set-hugh"
			]
		},
		{
			"req": [
				"hatchet_loop",
				"monster_dead",
				"hugh",
				"!in_loop_2"
			],
			"option_text": "Slash the wall again",
			"result_text": "You attempt to slash the wall again, but it still does not give way. On your final swing, some strange force causes the head of the hatchet to disintegrate into dust.",
			"result": [
				"unset-item:hatchet",
				"unset-in_loop",
				"unset-hatchet_loop"
			]
		},
		{
			"req": [
				"hatchet_loop",
				"monster_dead",
				"!in_loop_2"
			],
			"option_text": "Slash a Door",
			"result": [
				"set-in_loop_2",
				"set-slash_door",
				"if-nowhere",
				"set-pick_door_A"
			]
		},
		{
			"req": [
				"hatchet_loop",
				"slash_door",
				"red_door"
			],
			"option_text": "Slash the red door",
			"result_text": "
		},
		{
			"req": [
				"item:hatchet",
				"hatchet_loop",
				"!in_loop_2"
			],
			"option_text": "Exit",
			"result": [
				"unset-hatchet_loop",
				"unset-in_loop"
			]
		},
		{
			"req": [
				"show_door",
				"red_door",
				"!in_loop"
			],
			"option_text": "Red Door",
			"result": [
				"set-red_loop",
				"set-red_move",
				"set-in_loop"
			]
		},
		{
			"req": [
				"red_move",
				"ded"
			],
			"option_text": "Go through the red door",
			"result": [
				"if-through",
				"move-red_room_intro"
			]
		},
		{
			"req": [
				"red_move",
				"!monster_dead"
			],
			"option_text": "Exit",
			"result": [
				"unset-red_move",
				"unset-in_loop"
			]
		},
		{
			"req": [
				"red_loop",
				"!red_peeper",
				"!ded"
			],
			"option_text": "Peek behind the red door",
			"result_text": "You peek behind the red door to find a truly horrific scene. It's a small kitchen whose white tiles have been painted red with blood. Human bodies hang on meat hooks on the ceiling. In the middle of the kitchen is an island, on which a young boy is screaming for his life. His arms and legs have been individually chained to the sides of the island. A large figure dressed in a corse white material stands over him, hacking his left leg off with a meat cleaver. The figure is wearing a chef's hat made of the same white material, with leather gloves over its hands and a black veil covering its face. It snaps its neck sharply in your direction and then charges, swinging the cleaver violently and screaming incoherently.",
			"result": [
				"set-red_peeper",
				"set-ded"
			]
		},
		{
			"req": [
				"ded"
			],
			"option_text": "CLOSE THE DOOR",
			"result_text": "You slam the door on the creature's face! Some heavy pounding can be heard from the other side that swiftly subsides.",
			"result": [
				"unset-ded"
			]
		},
		{
			"req": [
				"ded"
			],
			"option_text": "Fight",
			"result": [
				"move-start_room_butcher"
			]
		},
		{
			"req": [
				"ded"
			],
			"option_text": "Exit",
			"result_text": "The butcher swings his cleaver into you again and again, screaming incoherent words as he does. The third blow cracks your skull, and before you even hit the floor everything fades to black.",
			"result": [
				"reset"
			]
		},
		{
			"req": [
				"red_loop",
				"!red_door_ex",
				"!ded"
			],
			"option_text": "Examine the red door",
			"result_text": "The red door is rather plain compared to the others, much more akin to a standard suburban door. There are six panels on it, and the door handle is round rather than vertical. The paint is very light, as the door's wooden texture can be seen and felt.",
			"result":[
				"set-red_door_ex"
			]
		},
		{
			"req": [
				"red_door_ex",
				"red_loop",
				"!ded"
			],
			"option_text": "Examine the red door again",
			"result": [
				"print-door_ex"
			]
		},
		{
			"req": [
				"red_loop",
				"!ded"
			],
			"option_text": "Exit",
			"result": [
				"unset-red_loop",
				"unset-red_move",
				"unset-in_loop"
			]
		},
		{
			"req": [
				"show_door",
				"green_door",
				"!in_loop"
			],
			"option_text": "Green Door",
			"result": [
				"set-green_loop",
				"set-green_move",
				"set-in_loop"
			]
		},
		{
			"req": [
				"green_move"
			],
			"option_text": "Go through the green door",
			"result": [
				"if-through",
				"move-green_room_intro"
			]
		},
		{
			"req": [
				"green_move",
				"!monster_dead"
			],
			"option_text": "Exit",
			"result": [
				"unset-green_move",
				"unset-in_loop"
			]
		},
		{
			"req": [
				"green_loop",
				"!green_peeper"
			],
			"option_text": "Peek behind the green door",
			"result_text": "Behind the green door is a staircase matted with old beige carpeting descending into pitch-black. The walls are wallpapered white with red flowers with a popcorn ceiling tying it together.",
			"result": [
				"set-green_peeper"
			]
		},
		{
			"req": [
				"green_loop",
				"!green_door_ex"
			],
			"option_text": "Examine the green door",
			"result_text": "The green door looks like what would come of an ancient builder attempting modern architecture. The vertical handle especially is barely functional, but the paneling is ornate with carvings like plants and the paint is masterfully coated, making it sleek to the touch and eye.",
			"result": [
				"set-green_door_ex"
			]
		},
		{
			"req": [
				"green_loop",
				"green_door_ex"
			],
			"option_text": "Examine the green door again",
			"result": [
				"print-door_ex"
			]
		},
		{
			"req": [
				"green_loop"
			],
			"option_text": "Exit",
			"result": [
				"unset-green_loop",
				"unset-green_move",
				"unset-in_loop"
			]
		},
		{
			"req": [
				"show_door",
				"yellow_door",
				"!in_loop"
			],
			"option_text": "Yellow Door",
			"result": [
				"set-yellow_loop",
				"set-yellow_move",
				"set-in_loop"
			]
		},
		{
			"req": [
				"yellow_move"
			],
			"option_text": "Go through the yellow door",
			"result": [
				"if-through",
				"move-yellow_room_intro"
			]
		},
		{
			"req": [
				"yellow_move",
				"!monster_dead"
			],
			"option_text": "Exit",
			"result": [
				"unset-yellow_move",
				"unset-in_loop"
			]
		},
		{
			"req": [
				"yellow_loop",
				"!yellow_peeper"
			],
			"option_text": "Peek behind the yellow door",
			"result_text": "The yellow door opens into the interior of a warehouse. A short wall sits to your right, with the long wall, and most of the interior, going off to your left. Whirring machinery lines the perimeter, as well as open shelves that house strange and fantastic gadgets.",
			"result": [
				"set-yellow_peeper"
			]
		},
		{
			"req": [
				"yellow_loop",
				"!yellow_door_ex"
			],
			"option_text": "Examine the yellow door",
			"result_text": "The yellow door is cold to the touch and completely featureless save for the vertical handle used to open it. It is heavy when pushed.",
			"result": [
				"set-yellow_door_ex"
			]
		},
		{
			"req": [
				"yellow_loop",
				"yellow_door_ex"
			],
			"option_text": "Examine the yellow door again",
			"result": [
				"print-door_ex"
			]
		},
		{
			"req": [
				"yellow_loop"
			],
			"option_text": "Exit",
			"result": [
				"unset-yellow_loop",
				"unset-yellow_move",
				"unset-in_loop"
			]
		},
		{
			"req": [
				"show_door",
				"purple_door",
				"!in_loop"
			],
			"option_text": "Purple Door",
			"result": [
				"set-purple_loop",
				"set-purple_move",
				"set-in_loop"
			]
		},
		{
			"req": [
				"purple_move"
			],
			"option_text": "Go through the purple door",
			"result": [
				"if-through",
				"move-purple_room_intro"
			]
		},
		{
			"req": [
				"purple_move",
				"!monster_dead"
			],
			"option_text": "Exit",
			"result": [
				"unset-purple_move",
				"unset-in_loop"
			]
		},
		{
			"req": [
				"purple_loop",
				"!purple_peeper"
			],
			"option_text": "Peek behind the purple door",
			"result_text": "The purple door gives way to a long hallway decorated with red carpet, expensive wood paneling, a clean white ceiling, and several small glass chandeliers. From where you're standing, it is impossible to see where it leads.",
			"result": [
				"set-purple_peeper"
			]
		},
		{
			"req": [
				"purple_loop",
				"!purple_door_ex"
			],
			"option_text": "Examine the purple door",
			"result_text": "The purple door has paneling resembling an archway that terminates at about the midway point down the door. Below that is a simple box panel. The deep purple color used is sleek, though noticeably sticky.",
			"result": [
				"set-purple_door_ex"
			]	
		},
		{
			"req": [
				"purple_loop",
				"purple_door_ex"
			],
			"option_text": "Examine the purple door again",
			"result": [
				"print-door_ex"
			]
		},
		{
			"req": [
				"purple_loop"
			],
			"option_text": "Exit",
			"result": [
				"unset-purple_loop",
				"unset-purple_move",
				"unset-in_loop"
			]
		},
		{
			"req": [
				"show_door",
				"blue_door",
				"!in_loop"
			],
			"option_text": "Blue Door",
			"result": [
				"set-blue_loop",
				"set-blue_move",
				"set-in_loop"
			]
		},
		{
			"req": [
				"blue_move"
			],
			"option_text": "Go through the blue door",
			"result": [
				"if-through",
				"move-blue_room_intro"
			]
		},
		{
			"req": [
				"blue_move",
				"!monster_dead"
			],
			"option_text": "Exit",
			"result": [
				"unset-blue_move",
				"unset-in_loop"
			]
		},
		{
			"req": [
				"blue_loop",
				"!blue_peeper"
			],
			"option_text": "Peek behind the blue door",
			"result_text": "The blue door gives way to a stone staircase decending into a dimly lit stone hallway. The rock is damp and covered with hard water and moss.",
			"result": [
				"set-blue_peeper"
			]
		},
		{
			"req": [
				"blue_loop",
				"!blue_door_ex"
			],
			"option_text": "Examine the blue door",
			"result_text": "Unlike the others, the blue door seems to get its color from its material rather than a coat of paint. The deep blue is slightly reflective, as well as waxy to the touch. The handle is replaced with a circular inset with lips around its edges.",
			"result": [
				"set-blue_door_ex"
			]
		},
		{
			"req": [
				"blue_loop",
				"blue_door_ex"
			],
			"option_text": "Examine the blue door again",
			"result": [
				"print-door_ex"
			]
		},
		{
			"req": [
				"blue_loop"
			],
			"option_text": "Exit",
			"result": [
				"unset-blue_loop",
				"unset-blue_move",
				"unset-in_loop"
			]
		},
		{
			"req": [
				"show_door",
				"brown_door",
				"!in_loop"
			],
			"option_text": "Brown Door",
			"result": [
				"set-brown_loop",
				"set-brown_move",
				"set-in_loop"
			]
		},
		{
			"req": [
				"brown_move"
			],
			"option_text": "Go through the brown door",
			"result": [
				"if-through",
				"move-brown_room_intro"
			]
		},
		{
			"req": [
				"brown_move",
				"!monster_dead"
			],
			"option_text": "Exit",
			"result": [
				"unset-brown_move",
				"unset-in_loop"
			]
		},
		{
			"req": [
				"brown_loop",
				"!brown_peeper"
			],
			"option_text": "Peek behind the brown door",
			"result_text": "The brown door takes you to the bottom of a ravine, with a river flowing from your left to your right. Overhead can be heard the sounds of clinking and clanking, though you can't yet quite see what causes them.",
			"result": [
				"set-brown_peeper"
			]
		},
		{
			"req": [
				"brown_loop",
				"!brown_door_ex"
			],
			"option_text": "Examine the brown door",
			"result_text": "The brown door is made of a rough and heavy wood that is little helped by the manner in which it was painted. Said paint seems to have been coated on in heaps without any though or care, giving the door a very, very rough texture.",
			"result": [
				"set-brown_door_ex"
			]
		},
		{
			"req": [
				"brown_loop",
				"brown_door_ex"
			],
			"option_text": "Examine the brown door again",
			"result": [
				"print-door_ex"
			]
		},
		{
			"req": [
				"brown_loop"
			],
			"option_text": "Exit",
			"result": [
				"unset-brown_loop",
				"unset-brown_move",
				"unset-in_loop"
			]
		},
		{
			"req": [
				"show_door",
				"!in_loop"
			],
			"option_text": "Exit",
			"result": [
				"unset-show_door",
				"unset-in_loop_2"
			]
		},
		{
			"req": [
				"!monster_dead",
				"zone_3",
				"!pick_door",
				"!in_loop"
			],
			"option_text": "Push the skeleton into the pit",
			"result_text": "You push the skeleton into the pit. The pit continues to grow, pushing you into the hallway, having taken over the previous room, where its growing ceases. After a few seconds, you hear a distant indeterminable sound resonating from the inky depths.",
			"result": [
				"set-monster_dead"
			]
		},
		{
			"req": [
				"!monster_dead",
				"!pick_door",
				"!in_loop"
			],
			"option_text": "Cry",
			"result_text": "You sit on the floor and cry. The skeleton impales you though the heart. You feel the driving black sever your arteries like tension strings as everything slowly fades to black.",
			"result": [
				"reset"
			]
		},
		{
			"req": [
				"monster_dead",
				"!in_loop",
				"!in_loop_2"
			],
			"option_text": "Cry",
			"result_text": "You sit on the floor and cry. An intense feeling of dread overcomes you."
		}
	],
	"constants": {
		"nowhere": {
			"req": [
				"!pick_door_A"
			],
			"commands": [
				"random-door",
				"random-door",
				"random-door"
			]
		},
		"through": {
			"req": [
				"!monster_dead"
			],
			"commands": [
				"set-event:banger"
			]
		},
		"box_item": [
			{
				"commands": [
					"print-hatchet",
					"set-item:hatchet"
				]
			},
			{
				"commands": [
					"print-dagger",
					"set-item:dagger"
				]
			},
			{
				"commands": [
					"print-nightstick",
					"set-item:nightstick"
				]
			},
			{
				"commands": [
					"print-spider",
					"move-start_room_spider"
				]
			},
			{
				"commands": [
					"print-head",
					"move-start_room_head"
				]
			},
			{
				"commands": [
					"print-empty"
				]
			}
		],
		"door": [
			{
				"req": [
					"!red_door"
				],
				"commands": [
					"set-red_door"
				]
			},
			{
				"req": [
					"!green_door"
					],
				"commands": [
					"set-green_door"
				]
			},
			{
				"req": [
					"!blue_door"
				],
				"commands": [
					"set-blue_door"
				]
			},
			{
				"req": [
					"!purple_door"
				],
				"commands": [
					"set-purple_door"
				]
			},
			{
				"req": [
					"!yellow_door"
				],
				"commands": [
					"set-yellow_door"
				]
			},
			{
				"req": [
					"!brown_door"
				],
				"commands": [
					"set-brown_door"
				]
			}
		],
		"hatchet": "It's an old hatchet.",
		"dagger": "It's a ceremonial dagger.",
		"nightstick": "It's a police nightstick.",
		"spider": "It's a giant spider! The creature lunges at you, even as the skeleton grows ever closer!",
		"head": "It's a severed head! The undead atrocity screams a shrill scream, bringing you to your knees. The skeleton looms ever closer.",
		"empty": "It's empty!",
		"door_ex": "Yep. It's a door."
	}
}